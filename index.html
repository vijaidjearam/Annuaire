<html>
  <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
  <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
  <body>
    Hello, world!
    <div id="outputDiv" class="font-mono"></div>
    <py-script>
from js import XMLHttpRequest

headers = {
  'Accept': 'application/json, text/javascript, */*; q=0.01',
  'Accept-Language': 'en-US,en;q=0.9,fr;q=0.8',
  'Connection': 'keep-alive',
  'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
  'Origin': 'https://annuaires.univ-reims.fr',
  'Referer': 'https://annuaires.univ-reims.fr/',
  'Sec-Fetch-Dest': 'empty',
  'Sec-Fetch-Mode': 'cors',
  'Sec-Fetch-Site': 'same-origin',
  'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Mobile Safari/537.36',
  'X-Requested-With': 'XMLHttpRequest',
  'sec-ch-ua': '"Google Chrome";v="119", "Chromium";v="119", "Not?A_Brand";v="24"',
  'sec-ch-ua-mobile': '?1',
  'sec-ch-ua-platform': '"Android"',
}

data = {
  's': 'IUT TR|Tous',
  'e': 'n',
}

url = "https://annuaires.univ-reims.fr/ws/searchService.php"
req = XMLHttpRequest.new()
req.open("POST", url, True)
req.setRequestHeader(headers);
blob = Blob.new([json.dumps(data)], {type : 'application/json'})
req.send(blob)
pyscript.write("outputDiv", str(req.response))
    </py-script>
  </body>
</html>